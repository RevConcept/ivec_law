/*
Bones Scripts File
Author: Eddie Machado

This file should contain any js scripts you want to add to the site.
Instead of calling it in the header or throwing it inside wp_head()
this file will be called automatically in the footer so as not to
slow the page load.

*/// IE8 ployfill for GetComputed Style (for Responsive Script below)
window.getComputedStyle||(window.getComputedStyle=function(e,t){this.el=e;this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;t=="float"&&(t="styleFloat");n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()}));return e.currentStyle[t]?e.currentStyle[t]:null};return this});jQuery(document).ready(function(e){var t=e(window).width();t<481;t>481;if(t<768){var n={nav_wrap:e("#nav-wrap"),header_nav:e("#nav-wrap"),header_height:e(".header .nav").outerHeight(),track_drawer:"open",set_close:function(){if(this.track_drawer!="closed"){this.header_nav.removeClass("open");this.header_nav.animate({height:0,opacity:0},200,"swing");this.header_nav.addClass("closed");this.track_drawer="closed"}},set_open:function(){if(this.track_drawer!="open"){this.header_nav.removeClass("closed");this.header_nav.animate({height:this.header_height,opacity:1},200,"swing");this.header_nav.addClass("open");this.track_drawer="open"}},init:function(){this.track_drawer=="closed"?this.set_open():this.set_close()}};window.ivec_menu=n;n.init();console.log(n);e(".menu-btn","#mobile-menu").click(function(){n.init()})}if(t>=768){var r={scrollbtm:e(".sidebar-scroll").offset().top,sidebar:e(".sidebar-scroll"),window_scroll:e(window).scrollTop(),track_position:"reg-position",sidebar_height:e("#sidebar1").height()+e(".footer").height(),check_main_height:function(){e("#main").height()<this.sidebar_height&&e("#sidebar1").css("height",this.sidebar_height)},set_reg_position:function(){if(this.track_position!="reg-position"){this.sidebar.removeClass("fixed-at-bottom sticky-at-bottom");this.sidebar.addClass("reg-position");this.track_position="reg-position"}},set_fixed_bottom:function(){if(this.track_position!="fixed-at-bottom"){this.sidebar.removeClass("sticky-at-bottom reg-position");this.sidebar.addClass("fixed-at-bottom");this.track_position="fixed-at-bottom"}},set_sticky_bottom:function(){if(this.track_position!="sticky-at-bottom"){this.sidebar.removeClass("fixed-at-bottom reg-position");e("#sidebar1").css({height:e("#sidebar-bg").height()});this.sidebar.addClass("sticky-at-bottom");this.track_position="sticky-at-bottom"}},isTopInView:function(t){docViewTop=e(window).scrollTop();docViewBottom=docViewTop+e(window).height();elemTop=e(t).offset().top;return elemTop<=docViewBottom&&elemTop>=docViewTop},init:function(t){this.check_main_height();t?window_scroll=t:window_scroll=this.window_scroll;window_scroll>=-1&&window_scroll<=this.scrollbtm?this.set_reg_position():window_scroll>this.scrollbtm&&!this.isTopInView(e(".footer"))?this.set_fixed_bottom():this.isTopInView(e(".footer"))?this.set_sticky_bottom():this.set_reg_position()}};window.ivec_sidebar=r;r.init();e(window).scroll(function(t){console.log(e(window).height()+" "+e(window).width());var n=e(this).scrollTop();r.init(n)});e(".comment img[data-gravatar]").each(function(){e(this).attr("src",e(this).attr("data-gravatar"))})}t>1030;var i=e(".tsml-container");if(i.isotope){i.isotope({masonry:{columnWidth:33}});e(".tsml-filters a").click(function(){var t=e(this).attr("data-filter");i.isotope({filter:t});return!1})}e("#slider").length&&e(window).load(function(){e("#slider").nivoSlider()})});(function(e){function c(){n.setAttribute("content",s);o=!0}function h(){n.setAttribute("content",i);o=!1}function p(t){l=t.accelerationIncludingGravity;u=Math.abs(l.x);a=Math.abs(l.y);f=Math.abs(l.z);!e.orientation&&(u>7||(f>6&&a<8||f<8&&a>6)&&u>5)?o&&h():o||c()}if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1))return;var t=e.document;if(!t.querySelector)return;var n=t.querySelector("meta[name=viewport]"),r=n&&n.getAttribute("content"),i=r+",maximum-scale=1",s=r+",maximum-scale=10",o=!0,u,a,f,l;if(!n)return;e.addEventListener("orientationchange",c,!1);e.addEventListener("devicemotion",p,!1)})(this);