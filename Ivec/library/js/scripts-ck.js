/*
Bones Scripts File
Author: Eddie Machado

This file should contain any js scripts you want to add to the site.
Instead of calling it in the header or throwing it inside wp_head()
this file will be called automatically in the footer so as not to
slow the page load.

*/// IE8 ployfill for GetComputed Style (for Responsive Script below)
window.getComputedStyle||(window.getComputedStyle=function(e,t){this.el=e;this.getPropertyValue=function(t){var n=/(\-([a-z]){1})/g;t=="float"&&(t="styleFloat");n.test(t)&&(t=t.replace(n,function(){return arguments[2].toUpperCase()}));return e.currentStyle[t]?e.currentStyle[t]:null};return this});jQuery(document).ready(function(e){var t=e(window).width();t<481;t>481;if(t<768){var n={header_nav:e("#nav-wrap"),nav_ul:e(".header .nav"),header_height:e(".header .nav").outerHeight(),track_drawer:"open",set_close:function(){if(this.track_drawer!="closed"){this.header_nav.removeClass("open");this.header_nav.animate({height:0,opacity:0},200,"swing");this.nav_ul.hide();this.header_nav.addClass("closed");this.track_drawer="closed"}},set_open:function(){if(this.track_drawer!="open"){this.header_nav.removeClass("closed");this.header_nav.animate({height:this.header_height,opacity:1},200,"swing");this.nav_ul.show();this.header_nav.addClass("open");this.track_drawer="open"}},init:function(){this.track_drawer=="closed"?this.set_open():this.set_close()}};window.ivec_menu=n;n.init();e(".menu-btn","#mobile-menu").click(function(){n.init()})}if(t>=768){var r={window_scroll:e(window).scrollTop(),track_position:"scrolling",main_height:e("#main").height(),logo_wrap_height:e("#logo-wrapper").outerHeight(!0),tsml_top:e("#tsml-sidebar").position().top-40,tsml_sidebar:e("#tsml-sidebar"),sidebar_scroll_outer:e(".sidebar-scroll").outerHeight(!0),tsml_height:e("#tsml-sidebar").height(),set_scrolling_tsml:function(){if(this.track_position!="scrolling"){this.tsml_sidebar.removeClass("fixed-tsml");this.tsml_sidebar.css({top:""});this.track_position="scrolling"}},set_fixed_tsml:function(){if(this.track_position!="fixed"){this.tsml_sidebar.css({top:this.logo_wrap_height-40});this.tsml_sidebar.addClass("fixed-tsml");this.track_position="fixed"}},init:function(e){e?window_scroll=e:window_scroll=this.window_scroll;window_scroll>=0&&this.tsml_top>window_scroll?this.set_scrolling_tsml():this.tsml_top<=window_scroll&&window_scroll!=0?this.set_fixed_tsml():this.set_scrolling_tsml()},set_sidebar_height:function(){if(this.main_height<this.sidebar_scroll_outer){console.log(this.main_height+" sidebar "+this.sidebar_scroll_outer);e("#sidebar1").css("height",this.sidebar_scroll_outer+150)}}};window.ivec_sidebar=r;r.set_sidebar_height();r.init();e(window).scroll(function(){y=e(window).scrollTop();r.init(y)});e(".comment img[data-gravatar]").each(function(){e(this).attr("src",e(this).attr("data-gravatar"))})}t>1030;e.Isotope.prototype._getCenteredMasonryColumns=function(){this.width=this.element.width();var e=this.element.parent().width(),t=this.options.masonry&&this.options.masonry.columnWidth||this.$filteredAtoms.outerWidth(!0)||e,n=Math.floor(e/t);n=Math.max(n,1);this.masonry.cols=n;this.masonry.columnWidth=t};e.Isotope.prototype._masonryReset=function(){this.masonry={};this._getCenteredMasonryColumns();var e=this.masonry.cols;this.masonry.colYs=[];while(e--)this.masonry.colYs.push(0)};e.Isotope.prototype._masonryResizeChanged=function(){var e=this.masonry.cols;this._getCenteredMasonryColumns();return this.masonry.cols!==e};e.Isotope.prototype._masonryGetContainerSize=function(){var e=0,t=this.masonry.cols;while(--t){if(this.masonry.colYs[t]!==0)break;e++}return{height:Math.max.apply(Math,this.masonry.colYs),width:(this.masonry.cols-e)*this.masonry.columnWidth}};var i=e(".tsml-container");if(i.isotope){i.isotope({masonry:{gutterWidth:10}});e(".tsml-filters a").click(function(){var t=e(this).attr("data-filter");i.isotope({filter:t});return!1})}e(".tsml-wrap").cycle()});(function(e){function c(){n.setAttribute("content",s);o=!0}function h(){n.setAttribute("content",i);o=!1}function p(t){l=t.accelerationIncludingGravity;u=Math.abs(l.x);a=Math.abs(l.y);f=Math.abs(l.z);!e.orientation&&(u>7||(f>6&&a<8||f<8&&a>6)&&u>5)?o&&h():o||c()}if(!(/iPhone|iPad|iPod/.test(navigator.platform)&&navigator.userAgent.indexOf("AppleWebKit")>-1))return;var t=e.document;if(!t.querySelector)return;var n=t.querySelector("meta[name=viewport]"),r=n&&n.getAttribute("content"),i=r+",maximum-scale=1",s=r+",maximum-scale=10",o=!0,u,a,f,l;if(!n)return;e.addEventListener("orientationchange",c,!1);e.addEventListener("devicemotion",p,!1)})(this);